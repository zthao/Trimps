<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  
	<title>脆皮 Trimps 4.0</title>
	<meta name="description" content="Trimps">
	<meta name="author" content="Brownprobe">
	<link rel="icon" href="favicon.ico" />
	<link rel="stylesheet" href="css/bootstrap.css">
	<link rel="stylesheet" href="fonts/icomoon/style.css">
	<link rel="stylesheet" type="text/css" href="css/style.css?44" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-64748869-1', 'auto');
  ga('send', 'pageview');

</script>
</head>
<!-- 		Trimps
		Copyright (C) 2016 Zach Hood

		This program is free software: you can redistribute it and/or modify
		it under the terms of the GNU General Public License as published by
		the Free Software Foundation, either version 3 of the License, or
		(at your option) any later version.

		This program is distributed in the hope that it will be useful,
		but WITHOUT ANY WARRANTY; without even the implied warranty of
		MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
		GNU General Public License for more details.

		You should have received a copy of the GNU General Public License
		along with this program (if you are reading this on the original
		author's website, you can find a copy at
		<trimps.github.io/license.txt>). If not, see
		<http://www.gnu.org/licenses/>. -->
<body>
	<noscript>
	<div id="checkJavascript" style="position: absolute; height: 100%; width: 100%; font-size: 2vw; padding: 10%; color: white; background-color: black; z-index: 1000000;">
		由于某些原因，您的浏览器无法加载此游戏。 这个游戏运行在javascript，如果你安装了一些插件如noscript，你可能需要让它允许从http://zthao.github.io加载脚本。<br/><br/>
		如果您没有使用任何可能干扰JavaScript的插件，请尝试使用最新版本的Chrome或Firefox。
	</div>
	</noscript>
	<div id="boneWrapper" style="display: none">
		<div id="boneWrapper0">
			<div class="row">
				<div class="col-xs-2">			
				</div>
				<div class="col-xs-8">
					<div id="boneTitleContainer">
						骨头商店
					</div>
					<div id="boneOwnedContainer">
						你有 <span id="bonesOwned">0</span>
					</div>
					<div id="mainBoneHowTo">
						你可以通过杀死Skeletimps和Megaskeletimps来获得骨头。
					</div>
					<div id="boneFlavorRow">
						The Bone Trader trades bones for... bonuses
					</div>
				</div>
				<div class="col-xs-2">
					<div class="boneBtn dangerColor pointer noselect" onclick="hideBones()">
						关闭
					</div>
				</div>
			</div>
			<div id="boneBuyRow" class="row">
				<div id="boneBoostsColumn" class="col-xs-4 boneBuyColumn">
					<div class="boneBuyTitle">提升</div>
					<div class="boostSpacer">
					<div class="boneBuyDesc">立即购买12或36小时之后的资源！ 如果您没有足够的存储空间，将自动购买存储空间（并扣除费用）。</div>
					<div id="boostSelectContainer">
						<div id="boost0" class="thingSmall pointer noselect boneBtnStateTeal" onclick="selectBoost(0)">
							12 小时
						</div>
						<div id="boost1" class="thingSmall pointer noselect boneBtnStateOff" onclick="selectBoost(1)">
							36 小时
						</div>
					</div>
					<div id="boostPreviewContainer">
						<table id="boostPreview" class="table table-striped">
							<tbody>
							<tr>
								<td>+ <span class="glyphicon glyphicon-apple" title="food"></span> <span id="foodBoostPreview">0</span></td>
								<td><span class="glyphicon glyphicon-home" title="storage added"></span> 自动购买 <span id="BarnAdded">0</span> 谷仓</td>
							</tr>
							<tr>
								<td>+ <span class="glyphicon glyphicon-tree-deciduous" title="wood"></span> <span id="woodBoostPreview">0</span></td>
								<td><span class="glyphicon glyphicon-home" title="storage added"></span> 自动购买 <span id="ShedAdded">0</span> 木仓</td>
							</tr>
							<tr>
								<td>+ <span class="icomoon icon-cubes" title="metal"></span> <span id="metalBoostPreview">0</span></td>
								<td><span class="glyphicon glyphicon-home" title="storage added"></span> 自动购买 <span id="ForgeAdded"></span> 矿仓</td>
							</tr>
							<tr>
								<td colspan="2">+ <span class="icomoon icon-diamond" title="gems"></span> <span id="gemsBoostPreview">0</span></td>
							</tr>
							<tr>
								<td colspan="2">+ <Span class="glyphicon glyphicon-th" title="fragments"></span> <span id="fragmentsBoostPreview">0</span></td>
							</tr>
							</tbody>
						</table>
						<div id="minusRes" style="display: none">
							你将要获得的资源不足以购买足够的存储空间。先花一些资源来获得最大的利益！
						</div>
					</div>
					</div>
					<div id="purchaseContainerBoost">
						<div class="boneBtn boneBtnStateOn pointer noselect buyBoostBtn" id="boostPurchaseBtn0" onclick="tooltip('Confirm Purchase', null, 'update', '你确定要花费20骨头购买12小时的资源么？', 'purchaseBoost(0)', 20)">
							购买12小时（20骨头）
						</div>
						<div class="boneBtn boneBtnStateOn pointer noselect buyBoostBtn" id="boostPurchaseBtn1" onclick="tooltip('Confirm Purchase', null, 'update', '你确定要花费40骨头购买36小时的资源么？', 'purchaseBoost(1)', 40)">
							购买36小时（40骨头）
						</div>
					</div>
				</div>
				<div id="boneImportsColumn" class="col-xs-4 boneBuyColumn">
					<div class="boneBuyTitle">外来物种</div>
					<div class="boostSpacerImports boostSpacer">
					<div class="boneBuyDesc">外来物种将在购买后永久解锁，并停留在传送门附近。 每平方都有3％的几率产生，并且它们有着更好的战利品。 全部收集吧！</div>
					<div class="importsPreview">
						<div class="importLocation">在世界中生成</div>
						<table class="table importsTable" id="importsTableWorld0">						
						</table>
						<div class="importLocation table-hover">在地图中生成</div>
						<table class="table importsTable" id="importsTableMaps0">					
						</table>
					</div>
					<div id="purchaseContainerImports">
						<div class="boneBtn boneBtnStateOff pointer noselect" id="importPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', '您即将花费50根骨头购买一个新的外来物种。 这个新的坏家伙将开始在你的下一个区域或地图中生成，平均每100个方格生成3个。 你确定么？', 'purchaseImport()', 50)"></div>
					</div>
				</div>

				</div>
				<div id="boneMiscColumn" class="col-xs-4 boneBuyColumn">
					<div class="boneBuyTitle">其他</div>
						<div class="boostSpacer">
						<div id="buyHeliumArea">
							<div class="boneBtn boneBtnStateOn pointer noselect" id="heliumPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', '您即将花费100根骨头购买一次立即通过时间传送门的机会。新的氦气将会在屏幕底部的 查看奖励 菜单中显示。 你确定么？', 'purchaseMisc(\'helium\')', 100)"> 
								购买传送门 (100 骨头)
							</div>
							<div class="miscDesc">
								<b>+ <span id="heliumGainedMisc"></span> 氦气 </b><br/>
								自动获得相当于你得到氦气最多的那一次量的氦气
							</div>
						</div>
						<div id="buyHeirloomArea">
							<div class="boneBtn boneBtnStateOn pointer noselect" id="heirloomPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', '您即将花费30根骨头购买一个传家宝，稀有度随机。 This will be created at a random rarity, and will be just like completing a Void Map at your highest ever Zone reached. 你确定么？', 'purchaseMisc(\'heirloom\')', 30)"> 
								购买传家宝 (30 骨头)
							</div>
							
							<div class="miscDesc">
							<div id="heirloomRarityMisc"></div>
								获得不同稀有度的传家宝的几率如上，依据你到达的最高区域
							</div>							
						</div>
						<div id="mapsMisc">
							<div class="boneBtn boneBtnStateOn pointer noselect" id="mapsPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', '您即将花费20根骨头购买黄金地图 。所有当前和未来的地图将获得+ 100%的战利品掉落基于原始掉落 (All of your current and future maps will gain +100% loot added to their normal loot roll.) 你确定么？', 'purchaseMisc(\'maps\')', 20)">
								购买黄金地图 (20 骨头)
							</div>
							<div class="miscDesc" id="goldMapsDesc">
								所有当前和未来的地图将获得+ 100%的战利品<br/><b>直到你穿过传送门</b>
							</div>
						</div>
						<div id="trimpsMisc">
							<div class="boneBtn boneBtnStateOn pointer noselect" id="trimpsPurchaseBtn" onclick="tooltip('Confirm Purchase', null, 'update', '您即将花费20根骨头购买快速繁殖。 在你穿过传送门之前，你的脆皮的繁殖速度将提高一倍。 你确定么？', 'purchaseMisc(\'trimps\')', 20)">
								购买快速繁殖 (20 bones)
							</div>
							<div class="miscDesc" id="quickTrimpsDesc">
								你的脆皮的繁殖速度提高一倍<br/><b>直到你穿过传送门</b>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="wrapper" style="background: url(css/bg2.png) center repeat-x;">
	<div id="innerWrapper">
		<div id="warnings"></div>
		<div class="row" id="topRow">
			<div class="col-xs-4" id="resourceColumn">
				<div class="row resourceRow">
					<div class="col-xs-6 maxH">
						<div id="food" class="playerGather">
							<span class="title">食物</span>
							<br/>
							<span class="ownedArea bdHover" onclick="getMaxResources('food')"><span id="foodOwned">0</span> / <span id="foodMax"></span></span>
							<br/>
							<div class="progress resProgress">
								<div class="progress-bar percentColorBlue" id="foodBar" role="progressbar">
									<span id="foodTimeToFill"></span>
								</div>
							</div>
							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="foodCollectBtn" class="workBtn workColorOff pointer noselect" onclick="setGather('food')">收集</div>
								</div>
								<div class="col-xs-6">
									<span class="psText sizeSecRegular pointer noselect" id="foodPs" onclick="getPsString('food')">+0/秒</span>
								</div>
							</div>
						</div>
					</div>

					<div class="col-xs-6 maxH">
						<div id="wood" class="playerGather" style="visibility: hidden;">
							<span class="title">木头</span>
							<br/>
							<span class="ownedArea bdHover" onclick="getMaxResources('wood')"><span id="woodOwned">0</span> / <span id="woodMax"></span></span>
							<br/>
							<div class="progress resProgress">
								<div class="progress-bar percentColorBlue" id="woodBar" role="progressbar">
									<span id="woodTimeToFill"></span>
								</div>
							</div>

							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="woodCollectBtn" class="workBtn workColorOff pointer noselect" onclick="setGather('wood')">砍伐</div>
								</div>
								<div class="col-xs-6">
									<span class="psText sizeSecRegular pointer noselect" id="woodPs" onclick="getPsString('wood')">+0/秒</span>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row resourceRow">
					<div class="col-xs-6 maxH">
						<div id="metal" class="playerGather" style="visibility: hidden;">
							<span class="title">金属</span>
							<br/>
							<span class="ownedArea bdHover" onclick="getMaxResources('metal')"><span id="metalOwned">0</span> / <span id="metalMax"></span></span>
							<br/>
							<div class="progress resProgress">
								<div class="progress-bar percentColorBlue" id="metalBar" role="progressbar">
									<span id="metalTimeToFill"></span>
								</div>
							</div>
							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="metalCollectBtn" class="workBtn workColorOff pointer noselect" onclick="setGather('metal')">开采</div>
								</div>
								<div class="col-xs-6">
									<span class="psText sizeSecRegular pointer noselect" id="metalPs" onclick="getPsString('metal')">+0/秒</span>
								</div>
							</div>
						</div>
					</div>
					<div class="col-xs-6 maxH">
						<div id="science" class="playerGather" style="visibility: hidden;">
							<span class="title">科学</span>
							<br/>
							<span class="ownedArea"><span id="scienceOwned">0</span></span>
							<br/>
							<div class="row collectRow">
								<div class="col-xs-6">
									<div id="scienceCollectBtn" class="workBtn workColorOff pointer noselect" onclick="setGather('science')">研究</div>
								</div>
								<div class="col-xs-6">
									<span class="psText sizeSecRegular pointer noselect" id="sciencePs" onclick="getPsString('science')">+0/秒</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-1" id="miscColumn">
				<div id="fragments" class="playerGather playerGatherSm" style="visibility: hidden;">
					<span class="title">碎片</span>
					<br/>
					<span class="ownedArea"><span id="fragmentsOwned">0</span></span>
					<br/>
					<span class="psText sizeSecRegular pointer noselect" id="fragmentsPs" style="display: none" onclick="getPsString('fragments')">+0/秒</span>
				</div>
				<div id="gems" class="playerGather playerGatherSm" style="visibility: hidden;">
					<span class="title">宝石</span>
					<br/>
					<span class="ownedArea"><span id="gemsOwned">0</span></span>
					<br/>
					<span class="psText sizeSecRegular pointer noselect" id="gemsPs" style="display: none" onclick="getPsString('gems')">+0/秒</span>
				</div>
				<div id="helium" class="playerGather playerGatherSm" style="display: none">
					<span class="title">氦气</span>
					<br/>
					<span class="ownedArea"><span id="heliumOwned">0</span></span>
					<br/>
					<span id="heliumPh" class="heliumPh"></span>
					
				</div>
			</div>
			<div class="col-xs-2" id="trimpsColumn">
				<div id="trimps" class="playerGather" style="visibility: hidden;">
					<div class="row">
						<div class="col-xs-3" style="padding-right: 0">
							<div id="turkimpBuff" style="display: none" onmouseover="tooltip('Well Fed', null, event)" onmouseout="tooltip('hide')">
								<span class="icomoon icon-spoon-knife"></span><br/><span id="turkimpTime"></span>
							</div>
						</div>
						<div class="col-xs-6">
							<div class="maxCenter">
								<span id="trimpTitle" class="title">???</span>													
							</div>
						</div>
					</div>
					<span class="ownedArea pointer noselect bdHover" onclick="getMaxTrimps()"><span id="trimpsOwned">0</span> / <span id="trimpsMax">10</span></span>
					<br/>
					<div class="progress resProgress">
						<div class="progress-bar percentColorBlue" id="trimpsBar" role="progressbar"><span id="trimpsTimeToFill"></span></div>
						
					</div>
					<div id="unempHide" style="visibility: hidden">
						<span id="trimpsUnemployed">0</span> 繁殖中
						<br/><span id="trimpsPs" class="pointer sizeSecRegular noselect bdHover psColorWhite" onclick="getTrimpPs()">+0/秒</span>
						<br/>
					</div>
					<div id="empHide" style="visibility: hidden">
						<span id="trimpsEmployed">0</span>/<span id="maxEmployed">0</span> 雇用
					</div>
					<div id="trapArea">
						<div id="trimpsCollectBtn" class="workBtn workColorOff pointer noSelect" onclick="setGather('trimps')">查看陷阱(<span id="trimpTrapText">1</span>)</div>
						<div id="trimpsCollecting" class="collecting" style="display: none">查看陷阱中(<span id="trimpTrapText2">1</span>)</div>
						<div class="progress" id="trappingProgress">
							<div class="progress-bar" id="trappingBar" role="progressbar"></div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-5" id="logColumn">
				<div id="logContainer">
					<div class="btn-group btn-group-justified" id="logBtnGroup" role="group">
						<div class="btn-group" role="group">
							<button id="StoryFilter" onclick="filterMessage('Story')" type="button" class="btn btn-success logFlt">剧情</button>
						</div>
						<div class="btn-group" role="group">
							<button id="LootFilter" onclick="filterMessage('Loot')" type="button" class="btn btn-success logFlt">掉落</button>
						</div>
						<div class="btn-group" role="group">
							<button id="UnlocksFilter" onclick="filterMessage('Unlocks')" type="button" class="btn btn-success logFlt">解锁</button>
						</div>
						<div class="btn-group" role="group">
							<button id="CombatFilter" type="button" onclick="filterMessage('Combat')" class="btn btn-success logFlt">战斗</button>
						</div>
						<div id="logConfigHolder" class="btn-group" role="group">
							<button id="logConfigBtn" type="button" onclick="tooltip('Message Config', null, 'update')" class="btn btn-default logFlt"><span class='glyphicon glyphicon-cog'></span></button>
						</div>						
					</div>
					<div id="log" class="niceScroll">
						<span class="storyMessage message"><span class='glyphicon glyphicon-star'></span>一团绿色的闪光爆发，然后消失，你撞到了地面。你看起来很饿...</span>
					</div>
				</div>
			</div>
		</div>
		<div class="row" id="bottomRow">
			<div id="buyCol" class="col-xs-5" style="visibility: hidden;">
				<div id="queueContainer">
					<div class="row" id="queueRow">
						<div class="col-xs-4 lowPad">
							<span id="foremenCount"></span>
						</div>
						<div class="col-xs-2 lowPad">
							<span id="buildSpeed"></span>
						</div>
						<div class="col-xs-3 lowPad">
							<div id="autoTrapBtn" style="display: none" onclick="toggleAutoTrap()" class="pointer noselect colorDanger autoUpgradeBtn">自动建造陷阱关闭</div>
						</div>
						<div class="col-xs-3">
							<div id="buildingsCollectBtn" onclick="setGather('buildings')" class="workBtn workColorOff pointer noselect">建造</div>
						</div>
					</div>
					<div class="queue niceScroll" id="buildingsQueue">
						<span id='noQueue'>队列中没有东西...</span><div id="queueItemsHere"></div>
					</div>
				</div>
				<div id="outerBuyContainer">	
					<div id="buyTabs">
				<ul id="buyTabsUl" class="nav nav-tabs nav-justified">
					<li role="presentation" id="allTab" onclick="filterTabs('all')" class="tabNotSelected buyTab"><a id="allA">全部</a></li>
					<li role="presentation" id="buildingsTab" onclick="filterTabs('buildings')" class="tabNotSelected buyTab"><a id="buildingsA"><span id="buildingsAlert" class="alert badge"></span>建筑</a></li>
					<li role="presentation" id="jobsTab" style="visibility: hidden" onclick="filterTabs('jobs')" class="tabNotSelected buyTab"><a id="jobsA"><span id="jobsAlert" class="alert badge"></span>工作</a></li>
					<li role="presentation" id="upgradesTab" style="visibility: hidden" onclick="filterTabs('upgrades')" class="tabNotSelected buyTab"><a id="upgradesA"><span id="upgradesAlert" class="alert badge"></span>升级</a></li>
					<li role="presentation" id="equipmentTab" style="visibility: hidden" onclick="filterTabs('equipment')" class="tabNotSelected buyTab"><a id="equipmentA"><span id="equipmentAlert" class="alert badge"></span>装备</a></li>		
					<li role="presentation" id="talentsTab"  style='display: none' onclick="filterTabs('talents')" class="tabNotSelected buyTab"><a id="talentA"><span id="talentsAlert" class="alert badge"></span>Mastery<span id="talentsEssenceTotal"></span></a></li>		
				</ul>
				</div>

					<div id="numTabs" class="numTabs">
						<ul class="nav nav-tabs nav-justified">
							<li role="presentation" class="tabNotSelected" id="tab1" onclick="numTab(1)">
								<a id="tab1Text">+1</a>
							</li>
							<li role="presentation" class="tabNotSelected" id="tab2" onclick="numTab(2)">
								<a id="tab2Text">+10</a>
							</li>
							<li role="presentation" class="tabNotSelected" id="tab3" onclick="numTab(3)">
								<a id="tab3Text">+25</a>
							</li>
							<li role="presentation" class="tabNotSelected" id="tab4" onclick="numTab(4)">
								<a id="tab4Text">+100</a>
							</li>
							<li role="presentation" class="tabNotSelected" id="tab5">
								<a id="tab5Text" onclick="numTab(5)">+1</a>
								<a id="tab5Text2" onclick="tooltip('Custom', null, 'update')">自定</a>
							</li>
							<li role="presentation" class="tabNotSelected" id="tab6" onclick="numTab('6')" onmouseover="tooltip('购买最多', 'customText', event, '切换到此选项会在每次购买时花费大部分资源。 <b>双击以自定义。</b>')" onmouseout="tooltip('hide')" >
								<a id="tab6Text">最多</a>
							</li>
						</ul>
					</div>
					<div id="buyContainer" class="niceScroll">


						<div id="buyHere" class="niceScroll buttonSizeLarge">

							<div id="buildingsContainer">
								<div id="buildingsTitleDiv" class="titleDiv">
									<div class="row">
										<div class="col-xs-4">
											<span id="buildingsTitleSpan" class="titleSpan">建筑</span>
										</div>
										<div class="col-xs-5 lowPad">&nbsp;</div>
										<div class="col-xs-3" style="padding-left: 5px">
											<div id="autoStorageBtn" class="pointer noselect colorDanger autoUpgradeBtn" onmouseover="tooltip('AutoStorage', 'customText', event, 'Enabling this will cause your Trimps to automatically add a storage building to the queue if you reach max capacity. This will work on and offline if enabled.')" onmouseout="tooltip('hide')" onclick="toggleAutoStorage()">AutoStorage</div>
										</div>
									</div>
								</div>
								<div class="buyBox" id="buildingsHere">
								</div>
							</div>
							<div id="jobsContainer">
								<div id="jobsTitleDiv" class="titleDiv" style="display: none">
									<div class="row">
										<div class="col-xs-4" style="padding-right: 5px">
											<span id="jobsTitleSpan" class="titleSpan">工作</span>
										</div>
										<div class="col-xs-5 lowPad">
											<span id="jobsTitleUnemployed" class="titleSpan"></span>
										</div>
										<div class="col-xs-3" style="padding-left: 5px">
											<div id="fireBtn" class="pointer noselect fireBtnNotFiring" onclick="fireMode()" onmouseover="tooltip('Fire Trimps',null,event)" onmouseout="tooltip('hide')">解雇</div>
										</div>
									</div>
									<div class="row">
									</div>
								</div>
								<div class="buyBox" id="jobsHere">
								</div>
							</div>
							<div id="upgradesContainer">
								<div id="upgradesTitleDiv" style="display: none" class="titleDiv">
									<div class="row">
										<div class="col-xs-4">
											<span id="upgradesTitleSpan" class="titleSpan">升级（研究第一）</span>
										</div>
										<div class="col-xs-2 lowPad">&nbsp;</div>
										<div class="col-xs-3 lowPad">
											<div id="autoPrestigeBtn" class="pointer noselect colorDanger autoUpgradeBtn" onmouseover="tooltip('AutoPrestige', null, event)" onmouseout="tooltip('hide')" onclick="toggleAutoPrestiges()">AutoPrestige</div>
										</div>
										<div class="col-xs-3" style="padding-left: 5px">
											<div id="autoUpgradeBtn" class="pointer noselect colorDanger autoUpgradeBtn" onmouseover="tooltip('AutoUpgrade', null, event)" onmouseout="tooltip('hide')" onclick="toggleAutoUpgrades()">AutoUpgrade</div>
										</div>
									</div>
								</div>
								<div class="buyBox" id="upgradesHere">
								</div>
							</div>
							<div id="equipmentContainer">
								<div id="equipmentTitleDiv" style="display: none" class="titleDiv">
									<div class="row">
										<div class="col-xs-4">
											<span id="equipmentTitleSpan" class="titleSpan">装备</span>
										</div>
										<div class="col-xs-2 lowPad">&nbsp;</div>
										<div class="col-xs-3 lowPad">&nbsp;</div>
										<div class="col-xs-3" style="padding-left: 5px">
										</div>
									</div>
								</div>
							
								<div class="buyBox" id="equipmentHere"></div>
							</div>
							<div id="talentsContainer" style="display: none">
								<div class='row noMarg'>
									<div class='col-xs-3'></div>
									<div class='col-xs-6 lowPad'>
										<div id="talentsTitle">
											<span id='essenceOwned'>0</span> 黑暗精华
										</div>
									</div>
									<div class='col-xs-3 lowPad'>
										<div class='pointer noselect colorDanger' onclick='respecTalents()' id='talentRespecBtn'>Respec (20 bones)</div>
									</div>
								</div>
								<div id="talentsCost">Your next mastery costs <span id='talentsNextCost'>0</span>. Next tier in <span id='talentsNeeded'>0</span>.</div>
								<div id="talentsHere">
								
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-7" id="rightCol">
				<div id="battleContainer" style="visibility: hidden">
					<div id="battleHeadContainer">
						<div class="row" id="battleStatsRow">
							<div class="col-xs-6" id="goodGuyCol">
								<div class="row">
									<div class="col-xs-9" style="padding-right: 5px">
									<!-- Update in resetGame if adding to name -->
										<div class="battleStatsTitle" id="goodGuyName">脆皮 (<span id="trimpsFighting">1</span>) <span id="anticipationSpan"></span> <span id="titimpBuff"></span> <span id="debuffSpan"></span></div>
									</div>
									<div class="col-xs-3" style="padding-left: 5px;">
										<div class="row" style="padding-right: 15px;">
											<div class="col-xs-3 fifth noPad">
												<div class="formationBtn pointer formationStateDisabled" onclick="setFormation('0')" id="formation0" onmouseover="tooltip('No Formation', 'customText', event, 'Clear your formations, return to normal stats, and derp around the battlefield. (Hotkeys: X or 1)')" onmouseout="tooltip('hide')">
													X
												</div>
											</div>
											<div class="col-xs-3 fifth noPad">
												<div class="formationBtn pointer formationStateDisabled" onclick="setFormation('1')" id="formation1" onmouseover="tooltip('Heap Formation', 'customText', event, 'Trimps gain 4x health but lose half of their attack and block. (Hotkeys: H or 2)')" onmouseout="tooltip('hide')">
													H
												</div>
											</div>
											<div class="col-xs-3 fifth noPad">
												<div class="formationBtn pointer formationStateDisabled" onclick="setFormation('2')" id="formation2" onmouseover="tooltip('Dominance Formation', 'customText', event, 'Trimps gain 4x attack but lose half of their health and block. (Hotkeys: D or 3)')" onmouseout="tooltip('hide')">
													D
												</div>										
											</div>
											<div class="col-xs-3 fifth noPad">
												<div class="formationBtn pointer formationStateDisabled" onclick="setFormation('3')" id="formation3" onmouseover="tooltip('Barrier Formation', 'customText', event, 'Trimps gain 4x block and 50% block pierce reduction but lose half of their health and attack. (Hotkeys: B or 4)')" onmouseout="tooltip('hide')">
													B
												</div>											
											</div>
											<div class="col-xs-3 fifth noPad">
												<div class="formationBtn pointer formationStateDisabled" onclick="setFormation('4')" id="formation4" onmouseover="tooltip('Scryer Formation', 'customText', event, 'Trimps lose half of their attack, health and block but gain 2x resources from loot (not including Helium) and have a chance to find Dark Essence above Z180 in the world. This formation must be active for the entire fight to receive any bonus. (Hotkeys: S or 5)')" onmouseout="tooltip('hide')">
													S
												</div>											
											</div>
										</div>
									</div>
								</div>
								<div class="row guyRow" id="goodGuyStatsRow">
									<div id='damageDiv' class="col-xs-6 lbdHover pointer noselect bdHover" style="padding-right: 0" onclick="getBattleStatBd('attack')">
										<span id="goodGuyAttack"></span> DMG <span id="critSpan"></span>
									</div>
									<div class="col-xs-4 noPad pointer noselect bdHover" id="blockDiv" style="visibility: hidden" onclick="getBattleStatBd('block')">
										<span id="goodGuyBlock">0</span> BLK
									</div>
									<div class="col-xs-2 pointer noselect" style="padding-left: 0" id="roboTrimpBtn" onclick="magnetoShriek()">
										<span id="chainHolder" class="shriekStateCooldown" style='visibility: hidden' onmouseover="tooltip('MagnetoShriek', null, event)" onmouseout="tooltip('hide')"><span id="roboTrimpTurnsLeft"></span> <span class="icomoon icon-chain" style="color: white"></span></span>
									</div>
								</div>
								<div class="progress fightBar">
									<div class="progress-bar percentColorBlue" id="goodGuyBar" role="progressbar">
										<span class="bdHover pointer noselect innerFightBar" onclick="getBattleStatBd('health')">
											<span id="goodGuyHealth">0</span>/<span id="goodGuyHealthMax">0</span>
										</span>
									</div>
								</div>
							</div>
							<div class="col-xs-6" id="badGuyCol" style="visibility: hidden">
							<div>
								<div class="row">
									<div class="col-xs-10">
									<span class="battleStatsTitle" id="badGuyName"></span> <span id="corruptionBuff"></span><span id="voidBuff"></span><span id="badCanCrit" style="display: none" class="badge" onmouseover="tooltip('Crushing Blows', 'customText', event, 'Your current health is higher than your block, making you vulnerable to critical strikes from your enemies. Better fix that...')" onmouseout="tooltip('hide')"><span class="icomoon icon-hair-cross"></span></span><span id='badDebuffSpan'></span><br/>
									<div class="guyRow" id="badGuyRow">
									<div>
										<span id="badGuyAttack" class="dmgColorWhite"></span> DMG <span id="badCrit"></span>
									</div>
								</div>
									</div>
									<div class="col-xs-2" style="font-size: 1.5em; text-align: right;">
										<div id="lootBdContainer">
										<span id="lootBdBtn" class="icomoon icon-gift2 pointer" onclick="getLootBd('Food/Wood/Metal')"></span>
										</div>
									</div>
								</div>
							</div>
								<div class="progress fightBar">
									<div class="progress-bar percentColorBlue" id="badGuyBar" role="progressbar">
										<span class="innerFightBar">
											<span id="badGuyHealth">0</span>/<span id="badGuyHealthMax">0</span>
										</span>
									</div>
								</div>
							</div>
						</div>
						
					</div>
					<div class="row" id="gridRow">
						<div class="col-xs-2" id="battleBtnsColumn">
							<div id="battleSideTitle" onmouseover="getZoneStats(event)" onmouseout="tooltip('hide')">
									<span id="worldName">区域</span> <span id="worldNumber">1</span><br/><span id="mapBonus"></span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-primary fightBtn" id="fightBtn" onmouseover="tooltip('Fight',null,event)" onmouseout="tooltip('hide')" onclick="fightManual()">
									战斗
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-danger fightBtn" id="pauseFight" onmouseover="tooltip('AutoFight',null,event)" onmouseout="tooltip('hide')" onclick="pauseFight()" style="display: none">
									自动战斗关闭
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-warning fightBtn" id="mapsBtn" onmouseover="tooltip('Maps', null, event)" onmouseout="tooltip('hide')" onclick="mapsClicked()" style="display: none">
									地图
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn voidMessage fightBtn" id="voidMapsBtn" onclick="toggleVoidMaps()" style="display: none">
									虚空地图
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-info fightBtn" id="portalBtn" onmouseover="tooltip('Portal', null, event)" onmouseout="tooltip('hide')" onclick="portalClicked()" style="display: none">
									传送门
								</span>
							</div>
							<div class="battleSideBtnContainer">
								<span class="btn btn-danger fightBtn" id="repeatBtn" onmouseover="tooltip('Repeat Map', null, event)" onmouseout="tooltip('hide')" onclick = "repeatClicked()" style="display: none">
									重复地图关闭
								</span>
							</div>
							<div class="battleSideBtnContainer" style="display: none" id="heirloomBtnContainer">
								<span id="heirloomsBtn" class="btn fightBtn heirloomsBtnColor" onclick="toggleHeirlooms()">宝物</span>
							</div>
							<div class="battleSideBtnContainer" style="display: none" id="boneBtnContainer">
								<span class="btn btn-default fightBtn" id="boneBtnMain" onclick="showBones()">
									<span id="boneBtnText">骨头商店</span>
								</span>
							</div>							
							<div class="battleSideBtnContainer" style="display: none" id="finishDailyBtnContainer">
								<span class="btn btn-success fightBtn" id="finishDailyBtn" onclick="tooltip('Finish Daily', null, 'update')">
									Finish Daily
								</span>
							</div>
							<div class="battleSideBtnContainer" style="display: none" id="exitSpireBtnContainer">
								<span class="btn btn-danger fightBtn" id="exitSpireBtn" onclick="tooltip('Exit Spire', null, 'update')">
									退出Spire
								</span>
							</div>

						</div>
						<div class="col-xs-10" id="gridContainer">
							<div id="grid"></div>
							<div id="preMaps" style="display: none">
							<div style="display: none" id="mapsCreateRow" class="row">
								<div id="mapLevelContainer" class="col-xs-4">
									等级 <span class="pointer noselect incrementBtn" onclick="incrementMapLevel(-1)"><span class="glyphicon glyphicon-download"></span></span><input onkeyup="updateMapCost()" type="number" id="mapLevelInput"><span class="pointer noselect incrementBtn" onclick="incrementMapLevel(1)"><span class="glyphicon glyphicon-upload"></span></span><span class="pointer iconStateBad noselect incrementBtn" onmouseover="tooltip('Recycle All', null, event)" onmouseout="tooltip('hide')" onclick="recycleBelow(false)"><span class="glyphicon glyphicon-remove-circle"></span></span>
								</div>
								<div id="mapCostContainer" class="col-xs-4 lowPad">
									<span id="mapCostFragmentCost"></span><span id="mapCostFragmentText"> 碎片</span>
								</div>
								<div id="mapCreateBtn" onclick='buyMap()' class="workBtn primaryColor pointer noselect col-xs-4">
									创造
								</div>
							</div>
							<div id="advMapsRow" class="row">
								<div id="advLootContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										掉落
									</div>
									<input value="0" id="lootAdvMapsRange" class="mapSelector mapInput" type="range" min="0" max="9" oninput="adjustMap('loot', this.value)" onchange="adjustMap('loot', this.value)">
									<div id="lootAdvMapsText"></div>
								</div>
								<div id="advSizeContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										大小
									</div>
									<input value="0" id="sizeAdvMapsRange" class="mapSelector mapInput" type="range" min="0" max="9" oninput="adjustMap('size', this.value)" onchange="adjustMap('size', this.value)">
									<div id="sizeAdvMapsText"></div>
								</div>
								<div id="advDifficultyContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										难度
									</div>
									<input value="0" id="difficultyAdvMapsRange" class="mapSelector mapInput" type="range" min="0" max="9" oninput="adjustMap('difficulty', this.value)" onchange="adjustMap('difficulty', this.value)">
									<div id="difficultyAdvMapsText"></div>
								</div>
								<div id="advBiomeContainer" class="col-xs-3 advContainer lowPad">
									<div class="advMapsTitle">
										群落
									</div>
									<select id="biomeAdvMapsSelect" onchange="updateMapCost()">
										<option value="Random">随机</option>
										<option value="Mountain">山地</option>
										<option value="Forest">森林</option>
										<option value="Sea">海洋</option>
										<option value="Depths">深渊</option>
									</select>
								</div>
							</div>
							<div id="heirRare" style="display: none">
								
							</div>
								<div id="selectedMapContainer" class="row">
									<div id="selectedMapCol" class="col-xs-3 lowPad">
										<div id="selectedMapName"></div><br/>
										<div id="mapCreditsLeft" title="Earn 1 Credit for each zone you clear while on this challenge"></div>
									</div>

									<div id="mapStatsCol3" class="col-xs-5 lowPad">
									<div class="row">
										<div class="col-xs-7 mapStatsCol">
											<div class="mapStatsTitle">物品</div>
											<div class="mapStatsTitle">资源</div>
										</div>
										<div id="mapStatsCol4" class="col-xs-5 mapStatsCol">
											<div class="mapStatsValue" id="mapStatsItems"></div>
											<div class="mapStatsValue" id="mapStatsResource"></div>
										</div>
									</div>
									<div id="selectMapBtns">
										<span id="selectMapBtn" class="workBtn pointer noselect infoColor selectMapBtn" style="visibility: hidden" onclick="runMap()">
											开始探索地图
										</span>
										<span id="recycleMapBtn" class="workBtn pointer noselect dangerColor selectMapBtn" style="visibility: hidden" onclick="recycleMap()">
											回收地图
										</span>
									</div>
									</div>
									<div id="mapStatsCol1" class="col-xs-2 mapStatsCol">
										<div class="mapStatsTitle">大小</div>
										<div class="mapStatsTitle">难度</div>
										<div class="mapStatsTitle">掉落</div>
									</div>
									<div id="mapStatsCol2" class="col-xs-2 mapStatsCol">
										<div class="mapStatsValue" id="mapStatsSize"></div>
										<div class="mapStatsValue" id="mapStatsDifficulty"></div>
										<div class="mapStatsValue" id="mapStatsLoot"></div>
									</div>

									
								</div>
								<div id="mapsHere" class="niceScroll">
								</div>
								<div id="voidMapsHere" class="niceScroll">
								</div>
							</div>
							<div id="mapGrid" class="gridShrunk" style="display: none;"></div>
							<div id="extraGridInfo" style="display: none;">
								<div id="extraGridInfoTitle"></div>
								<div id="extraGridInfoSummary"></div>
								<div id="extraGridInfoSub"></div>
								<div id="extraGridInfoBtns">
									<span class="btn btn-info" onclick="restoreGrid()">继续</span>
								</div> 
							</div>
						</div>
						<div id="extraMapBtns" class="col-xs-off">
							<div class="battleSideBtnContainer">
								<span class="btn settingBtn1 fightBtn" id="togglemapLoot2" onmouseout="tooltip('hide')" onclick="toggleSetting('mapLoot')">
								</span>
							</div>									
							<div class="battleSideBtnContainer">
								<span class="btn settingBtn1 fightBtn" id="togglerepeatUntil" onmouseout="tooltip('hide')" onclick="toggleSetting('repeatUntil')">
								</span>
							</div>								
							<div class="battleSideBtnContainer">
								<span class="btn settingBtn1 fightBtn" id="toggleexitTo" onmouseout="tooltip('hide')" onclick="toggleSetting('exitTo')">
								</span>
							</div>									
							<div class="battleSideBtnContainer" style="display: none" id="repeatVoidsContainer">
								<span class="btn settingBtn1 fightBtn" id="togglerepeatVoids" onmouseout="tooltip('hide')" onclick="toggleSetting('repeatVoids')">
								</span>
							</div>							
						</div>
					</div>
				</div>
			</div>
		</div>
		<div id="settingsRow">
			<table id="settingsTable">
				<tr>
					<td class="btn btn-info" onclick="save(false, true)">
						保存 <span id="saveIndicator"></span><span id="playFabIndicator"></span>
					</td>
					<td class="btn btn-info" onclick="tooltip('Export', null, 'update')">
						<div>导出</div>
					</td>
					<td class="btn btn-info" onclick="tooltip('Import', null, 'update')">
						<div>导入</div>
					</td>
					<td class="btn btn-success" onclick="toggleStats()">
						<div>统计</div>
					</td>
					<td class="btn tealColor" onclick="toggleAchievementWindow()">
						<div>成就</div>
					</td>
					<td class="btn btn-default" onclick="toggleSettingsMenu()">
						<div id='settingsText'>设置</div>
					</td>
					<td class="btn" id="pastUpgradesBtn" onclick="viewPortalUpgrades()">
						
					</td>
					<td class="btn btn-new" onclick="window.open('updates.html', '_blank')">
							V <span id="versionNumber"></span> | What's New 
					</td>
					<td id="portalTimer" class="timerNotPaused" onclick="toggleSetting('pauseGame')">
						<span id="portalTime">&nbsp;</span>&nbsp;&nbsp;<span style='font-size: 0.85em; line-height: 0.85em;' class='icomoon icon-pause3'></span>&nbsp;
					</td>
				</tr>
			</table>
			<div id="settingsHere" style="display: none">
				<div id='searchSettingsWindow'>
					<div id='settingTitleBar'>
						<div class='noselect optionContainer settingsBtn tealColor settingTypeBtn' onclick='toggleSettingSection(false)'>查看所有</div>
						<span id='searchSettingsTitle'>选择下面的类别，或搜索设置/关键字：</span>&nbsp;
						<input id='searchSettings' onkeyup='searchSettings(this)' /><br/>
						<div id='settingsTabs'>
							<ul class="nav nav-tabs nav-justified">
								<li role="presentation" style='display: none' id='NewTab' onclick="settingTab('New')" class="tabNotSelected settingTab"><a>New</a></li>
								<li role="presentation" id='GeneralTab' onclick="settingTab('General')" class="tabNotSelected settingTab"><a>通用</a></li>
								<li role="presentation"  id='QOLTab' onclick="settingTab('QOL')" class="tabNotSelected settingTab"><a>生活质量</a></li>
								<li role="presentation"  id='AlertsTab' onclick="settingTab('Alerts')" class="tabNotSelected settingTab"><a>弹窗和提醒</a></li>
								<li role="presentation"  id='LayoutTab' onclick="settingTab('Layout')" class="tabNotSelected settingTab"><a>布局</a></li>
								<li role="presentation"  id='OtherTab' onclick="settingTab('Other')" class="tabNotSelected settingTab"><a>其他</a></li>
							</ul>
						</div>
					</div>					
					<div id='settingSearchResults'></div>
				</div>
				<div id="allSettings" style="display: none">
					<div class='noselect optionContainer settingsBtn tealColor' onclick='toggleSettingSection(true)'>返回搜索</div>
					<div id="allSettingsHere"></div>
				</div>
			</div>
		</div>
	</div>
	</div>

	<div id="portalWrapper" style="display: none" class="portalMk0">
		<div id='titleRow'>
			<div id='titleCol1' class='titleCol'>
				<div>
					<div id="portalTitle"></div>
					<div id="portalError" style="display: none"></div>
				</div>
			</div>
			<div id='titleCol2' class='titleCol'>
				<div>
					<div id="portalHelium">拥有 <span id="portalHeliumOwned">0</span> 氦气罐</div>
					<div id="portalTotalHelium">累计获得 <span id="totalHeliumEarned">0</span> 氦气罐</div>
					<div id="portalTotalPortals">传送门使用<span id="totalPortals">0</span> 次</div>		
				</div>
			</div>
		</div>
		<div class="row" id="portalRow">
			<div id="perkCol" class="col-xs-7">
			<div class="challengeTitle">奖励</div>
			<div id="portalStory"></div>
				<div id="pnumTabs" class="numTabs">
					<ul class="nav nav-tabs nav-justified" id="portalTabs">
						<li role="presentation" class="tabNotSelected" id="ptab1" onclick="numTab(1, true)">
							<a id="ptab1Text">+1</a>
						</li>
						<li role="presentation"  class="tabNotSelected" id="ptab2" onclick="numTab(2, true)">
							<a id="ptab2Text">+10</a>
						</li>
						<li role="presentation"  class="tabNotSelected" id="ptab3" onclick="numTab(3, true)">
							<a id="ptab3Text">+25</a>
						</li>
						<li role="presentation"  class="tabNotSelected" id="ptab4" onclick="numTab(4, true)">
							<a id="ptab4Text">+100</a>
						</li>
						<li role="presentation"  class="tabNotSelected" id="ptab5" onclick="tooltip('Custom', null, 'update', true)">
							<a id="ptab5Text">自定义</a>
						</li>
						<li role="presentation" class="tabNotSelected pointer" id="ptabInfo" onclick="toggleSetting('detailedPerks', null, true)">
							<a id="ptabInfoText">更多信息</a>
						</li>
						<li role="presentation" id="ptabRemove" style="display: none" onclick="toggleRemovePerks()">
							<a id="ptabRemoveText">移除</a>
						</li>
					</ul>
				</div>
				<div style="text-align: center">
					<div class="btn btn-warning inPortalBtnSm" style="display: none" id="clearPerksBtn" onclick="clearPerks()">清除所有奖励Clear All Perks</div>
				</div>
				
				<div id="portalUpgradesHere"></div>
			</div>
			<div id="challengeCol" class="col-xs-5">
				<div id="viewChallenge" style="display: none">
					<span id="viewChallengeText">您目前没有已激活的挑战。</span>
				<br/><br/>
				<div class="btn btn-warning inPortalBtn" style="display: none" id="cancelChallengeBtn" onclick="confirmAbandonChallenge()">放弃挑战</div>

				</div>
				<div id="challenges"  style="display: none">
					<div class="challengeTitle">挑战</div>
					<div id="challengeDescription">
						<span id="challengeDescriptionPre">You can also choose to activate a challenge before using your portal. Completing a challenge will earn you a permanent reward. You can abandon or view an active challenge at any time by clicking the "查看奖励" button.</span>
						<span id="flagMustRestart" style="display: none;"><b>If you abandon this challenge, the portal will become unstable and the world will restart (you'll keep permanent bonuses like helium)</b></span>

						<div id="specificChallengeDescription">
							
						</div>
					</div>
					<div id="challengesHere">
					
					</div>
				</div>
			</div>
		</div>
		<div id="portalBtnContainer">
			<div class="btn btn-primary inPortalBtn" id="activatePortalBtn" onclick="activateClicked()">Activate Portal</div>
			<div class="btn btn-danger inPortalBtn" id="cancelPortalBtn" onclick="cancelPortal()">取消</div>
			<div class="btn btn-warning inPortalBtn" style="display: none" id="respecPortalBtn" onclick="respecPerks()" onmouseover="tooltip('Respec', null, event)" onmouseout="tooltip('hide')"></div>
		</div>
	</div>
	<div id="achievementWrapper" style="display: none">
		<div id="achievementMainButtons">
			<span id="achievementHelp" onclick="toggleAchievementHelp()" class="icomoon icon-question-circle"></span>
			<span id="achievementMainClose" onclick="toggleAchievementWindow()" class="icomoon icon-close"></span>
		</div>
		<div class="row" id="achievementTopRow">
			<div class="col-xs-6">
				<div id="achievementHover" style="display: none">
					<div class="row">
						<div id="achievementHoverIconContainer" class="col-xs-3 lowPad">
						</div>
						<div class="col-xs-8">
							<div id="achievementHoverTitle"></div>
							<div id="achievementHoverDescription"></div>
							<div id="achievementHoverProgress"></div>
							<div id="achievementHoverReward"></div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="maxCenter" id="achievementHeader">
					<span class="achievementMainTitle">成就</span><br/>
					<span class="achievementTotals">你造成了 <span id="achievementTotalPercent"></span>% 的额外伤害<span id="achievementFluff"></span>。</span>
					<div id="achievementGoldenBonusContainer">
					</div>
				</div>
				<div id="achievementHelpContainer" style="display: none">
					你可以通过做东西来获得成就。 每个成就都会增加你的脆皮可以造成的伤害量，靠后的成就将给予更大的奖励。 您可以将鼠标悬停在某个成就上，进一步了解成就。
				</div>
			</div>
			<div class="col-xs-1">
			</div>
		</div>
		<div id="achievementsHere" class="niceScroll"></div>
	</div>
	<div id="statsWrapper" style="display: none">
		<span id="statsTitle">统计!</span><br/>
		<div class="row" id="statsBtnRow">
			<div class="col-xs-3">
			</div>
			<div class="col-xs-3 btn btn-info statToggleBtn" id='totalSelectBtn' onclick='toggleStats("total")'>
				总计
			</div>
			<div class="col-xs-3 btn btn-success statToggleBtn" id="currentSelectBtn" onclick="toggleStats('current')">
				当前运行
			</div>
		</div>
		<br/>
		<div class="row" id="statsRow">
			<div class="col-xs-4" id="statCol1">
			</div>
			<div class="col-xs-4" id="statCol2">		
			</div>
			<div class="col-xs-4" id="statCol3">
			</div>			
		</div>
		<div class="btn btn-danger inPortalBtn" id="closeStatsBtn" onclick="toggleStats()">关闭</div> <br/> <br/><br/>
		<div id="helpContainer">
			Need help or want to talk about Trimps? Check out the <a href="http://www.reddit.com/r/trimps" target="_blank">/r/Trimps SubReddit</a>, the <a href="http://www.kongregate.com/forums/11405-trimps" target="_blank">Kongregate Forums</a>, or the <a href="http://trimps.wikia.com/wiki/Trimps_Wiki" target="_blank">community-created Trimps Wiki!</a><br/>
		</div>
	</div>
	<div id="heirloomWrapper" style="display: none">
		<div id="heirloomTitleBar" class="row"><div class="col-xs-5">Heirlooms - Gifts to past you from future you</div><div class="col-xs-5" id="nullifiumContainer">You have <span id="nullifiumCount"></span> Nullifium</div><div class="col-xs-1"><div onclick="toggleHeirloomHelp()" class="pointer noselect colorPrimary heirBtn heirInfo">Help</div></div><div class="col-xs-1"><div class="pointer noselect colorDanger heirBtn heirInfo" onclick="toggleHeirlooms()">关闭</div></div></div>
		<div id="heirloomHelp" style="display: none">
			Heirlooms are powerful items that can drop with a variety of bonuses and a variety of rarities. You will earn one Heirloom every time a Void Map is completed, and you have a better chance to get higher rarities if you complete the Void Map at higher zones. Once you have an Heirloom, you can click the icon below to select it.<br/><br/>
			Once you've selected an Heirloom, you can see all of its stats on the right side of this screen. <b>You can click a stat to upgrade or replace it.</b> The currency to upgrade and replace stats, <b>Nullifium, or Nu,</b> can only be gathered by recycling an Heirloom. You can also click on the Heirloom's name on this menu to rename it.<br/><br/>
			You can only carry a few Heirlooms (other than the two you have equipped) back through the Portal with you when you use it. <b>Any Heirlooms in the "Temporary" section will be recycled for Nullifium on portal.</b>
		</div>
		<div class="row">
			<div class="col-xs-6">
				<div id="equippedHeirlooms">
					<div class="row">
						<div class="col-xs-6">
							Equipped Shield<br/>
							<div id="ShieldEquipped"></div><br/>
							<span id="ShieldEquippedName"></span>
						</div>
						<div class="col-xs-6">
							Equipped Staff<br/>
							<div id="StaffEquipped"></div><br/>
							<span id="StaffEquippedName"></span>
						</div>
					</div>
					<div id="equippedHeirloomsBtnGroup" class="heirloomBtnGroup" style="visibility: hidden">
						<div id="unequipHeirloomBtn" class="noselect heirloomBtnActive heirBtn"  onclick="unequipHeirloom()">Unequip</div>
					</div>
				</div>
				<div id="carriedHeirlooms">
					Carried <span id="carriedHeirloomsText"></span> <div id="addCarriedBtn" onclick="addCarried()" class="heirloomBtnActive heirBtn noselect"></div>
					<div id="carriedHeirloomsHere"></div>
					<div id="carriedHeirloomsBtnGroup" class="heirloomBtnGroup" style="visibility: hidden">
						<div id="equipHeirloomBtn" class="noselect heirloomBtnActive heirBtn"  onclick="equipHeirloom()">Equip</div>
						<div id="stopCarryHeirloomBtn" class="noselect heirloomBtnActive heirBtn"  onclick="stopCarryHeirloom()">Stop Carrying</div>
					</div>
				</div>
				<div id="extraHeirlooms">
					Temporary <span id="extraHeirloomsText"></span> <div id="recycleAllHeirloomsBtn" onclick="recycleAllHeirloomsClicked()" class="heirloomBtnActive heirBtn noselect">Recycle All</div>
					<div id="extraHeirloomsHere"></div>
					<div id="extraHeirloomsBtnGroup" class="heirloomBtnGroup" style="visibility: hidden">
						<div id="equipHeirloomBtn2" class="noselect heirloomBtnActive heirBtn"  onclick="equipHeirloom()">Equip</div>
						<div id="carryHeirloomBtn" class="noselect heirloomBtnActive heirBtn"  onclick="carryHeirloom()">Carry</div>
						<div id="recycleHeirloomBtn" class="noselect heirloomBtnActive heirBtn"  onclick="recycleHeirloom()">Recycle</div>
					</div>
				</div>
			</div>
			<div class="col-xs-6">
				<div id="selectedHeirloom"></div>
				<div id="modBreakdown" style="display: none">
					<div class="row">
						<div class="col-xs-6" id="modReplaceBox">
							<select id="modReplaceSelect"></select><br/>
							<div id="modReplaceBtn" class="heirloomBtnActive heirBtn noselect" onclick="replaceMod()">Replace</div>
						</div>
						<div class="col-xs-6" id="modUpgradeBox">
							<div id="modUpgradeCost"></div>
							<div id="modUpgradeBtn" class="heirloomBtnActive heirBtn noselect" onclick="upgradeMod()">Upgrade</div>
						</div>
					</div>			
				</div>
			</div>
		</div>
	</div>
	<div id="achievementPopup" style="display: none">
		<span class="achievementBtns">
			<span class="achievementBtnGo icomoon icon-newspaper-o" onclick="toggleAchievementWindow()"></span>
			<span class="achievementBtnClose icomoon icon-close" onclick="closeAchievementPopup()"></span>	
		</span>
		<div class="row">
			<div id="achievementPopupIconContainer" class="col-xs-3 lowPad">
			</div>
			<div class="col-xs-8">
				<div id="achievementPopupTitle"></div>
				<div id="achievementPopupDescription"></div>
				<div id="achievementPopupReward"></div>
			</div>
		</div>
	</div>
	<div id="heirloomsPopup" style="display: none">
		<div id="heirloomsPopupBtns">
			你找到了一个宝物！

			<span class="heirloomPopupBtn icomoon icon-close" onclick="closeHeirPopup()"></span>
			<span class="heirloomPopupBtn icomoon icon-archive" onclick="toggleHeirlooms(); closeHeirPopup();"></span>
		</div>
		<div id="heirloomsPopupHere">
		
		</div>
	</div>
	<div id="tooltipDiv" class="tooltipExtraNone" style="display: none">
		<div id="tipTitle"></div>
		<hr/>
		<div id="tipText"></div>
		<hr/>
		<div id="tipCost"></div>
	</div>
	<script type="text/javascript" src="Playfab/PlayFabSDK/PlayFabClientApi.js"></script>
	<script type="text/javascript" src="lz-string.js"></script>
	<script type="text/javascript" src="config.js?84"></script>
	<script type="text/javascript" src="updates.js?84"></script>
	<script type="text/javascript" src="main.js?84"></script>
	
</body>

</html>